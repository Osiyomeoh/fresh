{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\demo-react\\\\src\\\\providers\\\\app-provider.tsx\",\n    _s = $RefreshSig$();\n\nimport { useSlashAuth } from '@slashauth/slashauth-react';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { API } from '../api';\nimport { RoleNameAdmin, RoleNameMember } from '../constants';\nimport { AppContext, ConfigContext } from '../context';\nimport { SlashauthFile } from '../model/file';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TEST_FILE_ID = 'file.testpdf';\n\nconst AppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [appMetadata, setAppMetadata] = useState({\n    data: undefined,\n    loading: false\n  });\n  const [events, setEvents] = useState({\n    data: undefined,\n    loading: false\n  });\n  const [roles, setRoles] = useState({});\n  const [me, setMe] = useState({\n    data: undefined,\n    loading: false\n  });\n  const [files, setFiles] = useState({\n    data: {\n      [TEST_FILE_ID]: new SlashauthFile({\n        id: TEST_FILE_ID,\n        blobID: 'blob.12345',\n        clientID: '',\n        organizationID: null,\n        wallet: '',\n        name: 'Dataroom example',\n        description: '',\n        rolesRequired: [RoleNameMember],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      })\n    },\n    loading: false\n  });\n  const {\n    getTokens,\n    isAuthenticated,\n    hasRole\n  } = useSlashAuth();\n  const config = useContext(ConfigContext);\n  const [lastRoleDataAdmin, setLastRoleDataAdmin] = useState(false);\n  const [lastRoleDataMember, setLastRoleDataMember] = useState(false);\n\n  if (!isAuthenticated && events.data !== undefined) {\n    setEvents({\n      data: undefined,\n      loading: false\n    });\n  }\n\n  if (!isAuthenticated && roles && Object.keys(roles).length !== 0) {\n    setRoles({});\n  }\n\n  if (!isAuthenticated && me.data !== undefined) {\n    setMe({\n      data: undefined,\n      loading: false\n    });\n  }\n\n  const addRole = useCallback((roleName, response) => {\n    setRoles(existing => ({ ...existing,\n      [roleName]: {\n        data: response,\n        loading: false\n      }\n    }));\n  }, []);\n  const fetchRoleData = useCallback(async roleName => {\n    if (!isAuthenticated) {\n      return false;\n    }\n\n    setRoles(existing => ({ ...(existing || {}),\n      [roleName]: {\n        data: undefined,\n        loading: true\n      }\n    }));\n\n    try {\n      const roleResponse = await hasRole(roleName);\n      addRole(roleName, roleResponse);\n      return roleResponse;\n    } catch (err) {\n      console.error('Failed to fetch role', err);\n      addRole(roleName, false);\n      return false;\n    }\n  }, [addRole, hasRole, isAuthenticated]);\n\n  const fetchRoles = async () => {\n    await fetchRoleData(RoleNameMember);\n    await fetchRoleData(RoleNameAdmin);\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setRoles(undefined);\n    } else {\n      fetchRoles();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isAuthenticated]);\n  const fetchMe = useCallback(async () => {\n    setTimeout(() => setMe({ ...me,\n      loading: true\n    }), 0);\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.getMe().then(user => {\n        setMe({\n          data: user,\n          loading: false\n        });\n        return user;\n      }).catch(err => {\n        console.error('Error fetching me', err);\n        setMe({\n          data: null,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, getTokens, me]);\n  const patchMe = useCallback(async nickname => {\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.patchMe(nickname).then(user => {\n        setMe({\n          data: user,\n          loading: false\n        });\n        return user;\n      }).catch(err => {\n        console.error('Error fetching me', err);\n        return null;\n      });\n    });\n  }, [config, getTokens]);\n  const addEvent = useCallback(async ev => {\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.addEvent(ev).then(ev => {\n        return ev;\n      }).catch(err => {\n        console.error('Error adding event', err);\n        return null;\n      });\n    });\n  }, [config, getTokens]);\n  const fetchAppMetadata = useCallback(async () => {\n    setTimeout(() => setAppMetadata({ ...appMetadata,\n      loading: true\n    }), 0);\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.getAppMetadata().then(metadata => {\n        setAppMetadata({\n          data: metadata,\n          loading: false\n        });\n        return metadata;\n      }).catch(err => {\n        console.error('Error fetching app metadata', err);\n        setAppMetadata({\n          data: null,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [appMetadata, config, getTokens]);\n  const fetchEvents = useCallback(async () => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setEvents({ ...events,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.getEvents().then(events => {\n        setEvents({\n          data: events,\n          loading: false\n        });\n        return events;\n      }).catch(err => {\n        console.error('Error fetching events: ', err);\n        setEvents({\n          data: null,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, events, getTokens, isAuthenticated]);\n  const listFiles = useCallback(async () => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setFiles({ ...files,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.listFiles().then(incomingFiles => {\n        const fileMap = incomingFiles.reduce((acc, file) => {\n          acc[file.id] = file;\n          return acc;\n        }, files.data || {});\n        setFiles({\n          data: fileMap,\n          loading: false\n        });\n        return incomingFiles;\n      }).catch(err => {\n        console.error('Error listing files: ', err);\n        setFiles({ ...files,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, files, getTokens, isAuthenticated]);\n  const getSignedFileURL = useCallback(async fileID => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.getPresignedURLForFile(fileID).catch(err => {\n        console.error('Error getting presigned URL for file: ', err);\n        return null;\n      });\n    });\n  }, [config, getTokens, isAuthenticated]);\n  const getFile = useCallback(async fileID => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setFiles({ ...files,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.getFile(fileID).then(file => {\n        const fileMap = files.data || {};\n        fileMap[fileID] = file;\n        setFiles({\n          data: fileMap,\n          loading: false\n        });\n        return files;\n      }).catch(err => {\n        console.error('Error getting file: ', err);\n        setFiles({ ...files,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, files, getTokens, isAuthenticated]);\n  const createFile = useCallback(async input => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setFiles({ ...files,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.createFile(input).then(file => {\n        const fileMap = files.data || {};\n        fileMap[file.id] = file;\n        setFiles({\n          data: fileMap,\n          loading: false\n        });\n        return files;\n      }).catch(err => {\n        console.error('Error creating file: ', err);\n        setFiles({ ...files,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, files, getTokens, isAuthenticated]);\n  const patchFile = useCallback(async (id, input) => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setFiles({ ...files,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.patchFile(id, input).then(file => {\n        const fileMap = files.data || {};\n        fileMap[file.id] = file;\n        setFiles({\n          data: fileMap,\n          loading: false\n        });\n        return file;\n      }).catch(err => {\n        console.error('Error patching file: ', err);\n        setFiles({ ...files,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, files, getTokens, isAuthenticated]);\n  const deleteFile = useCallback(async id => {\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    setFiles({ ...files,\n      loading: true\n    });\n    return getTokens().then(token => {\n      const api = new API(config, token);\n      return api.deleteFile(id).then(file => {\n        const fileMap = files.data || {};\n\n        if (fileMap[id]) {\n          fileMap[id] = undefined;\n        }\n\n        setFiles({\n          data: fileMap,\n          loading: false\n        });\n        return file;\n      }).catch(err => {\n        console.error('Error deleting file: ', err);\n        setFiles({ ...files,\n          loading: false\n        });\n        return null;\n      });\n    });\n  }, [config, files, getTokens, isAuthenticated]);\n\n  if (roles && roles[RoleNameAdmin] && !roles[RoleNameAdmin].loading && roles[RoleNameAdmin].data !== undefined && lastRoleDataAdmin !== roles[RoleNameAdmin].data) {\n    if (roles[RoleNameAdmin].data && isAuthenticated) {\n      fetchEvents();\n      listFiles();\n    }\n\n    setLastRoleDataAdmin(roles[RoleNameAdmin].data);\n  }\n\n  if (roles && roles[RoleNameMember] && !roles[RoleNameMember].loading && roles[RoleNameMember].data !== undefined && lastRoleDataMember !== roles[RoleNameMember].data) {\n    if (roles[RoleNameMember].data && isAuthenticated) {\n      fetchEvents();\n      fetchMe();\n    }\n\n    setLastRoleDataMember(roles[RoleNameMember].data);\n  }\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      appMetadata: { ...appMetadata,\n        fetch: fetchAppMetadata\n      },\n      events: { ...events,\n        fetch: fetchEvents,\n        addEvent: event => {\n          addEvent(event);\n          setEvents({ ...events,\n            data: [...(events.data || []), event]\n          });\n        }\n      },\n      roles: {\n        data: { ...roles\n        },\n        fetch: fetchRoleData,\n        fetchRoles\n      },\n      me: { ...me,\n        fetch: fetchMe,\n        patch: patchMe\n      },\n      files: { ...files,\n        list: listFiles,\n        get: getFile,\n        getPresignedURL: getSignedFileURL,\n        create: createFile,\n        patch: patchFile,\n        delete: deleteFile\n      }\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AppProvider, \"lq5QL4zv1tevm2bdePUikJjbLSc=\", false, function () {\n  return [useSlashAuth];\n});\n\n_c = AppProvider;\nexport default AppProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["useSlashAuth","useCallback","useContext","useEffect","useState","API","RoleNameAdmin","RoleNameMember","AppContext","ConfigContext","SlashauthFile","TEST_FILE_ID","AppProvider","children","appMetadata","setAppMetadata","data","undefined","loading","events","setEvents","roles","setRoles","me","setMe","files","setFiles","id","blobID","clientID","organizationID","wallet","name","description","rolesRequired","createdAt","Date","toISOString","updatedAt","getTokens","isAuthenticated","hasRole","config","lastRoleDataAdmin","setLastRoleDataAdmin","lastRoleDataMember","setLastRoleDataMember","Object","keys","length","addRole","roleName","response","existing","fetchRoleData","roleResponse","err","console","error","fetchRoles","fetchMe","setTimeout","then","token","api","getMe","user","catch","patchMe","nickname","addEvent","ev","fetchAppMetadata","getAppMetadata","metadata","fetchEvents","getEvents","listFiles","incomingFiles","fileMap","reduce","acc","file","getSignedFileURL","fileID","getPresignedURLForFile","getFile","createFile","input","patchFile","deleteFile","fetch","event","patch","list","get","getPresignedURL","create","delete"],"sources":["C:/Users/USER/Documents/demo-react/src/providers/app-provider.tsx"],"sourcesContent":["import { useSlashAuth } from '@slashauth/slashauth-react';\r\nimport { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { API, CreateFileInput, PatchFileInput } from '../api';\r\nimport { RoleNameAdmin, RoleNameMember } from '../constants';\r\nimport { AppContext, ConfigContext } from '../context';\r\nimport { AppMetadata } from '../model/app-metadata';\r\nimport { SlashauthEvent } from '../model/event';\r\nimport { User } from '../model/user';\r\nimport { SlashauthFile } from '../model/file';\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n};\r\n\r\ntype FetchedData<T> = {\r\n  data: T | null;\r\n  loading: boolean;\r\n};\r\n\r\nexport const TEST_FILE_ID = 'file.testpdf';\r\n\r\nconst AppProvider = ({ children }: Props) => {\r\n  const [appMetadata, setAppMetadata] = useState<FetchedData<AppMetadata>>({\r\n    data: undefined,\r\n    loading: false,\r\n  });\r\n\r\n  const [events, setEvents] = useState<FetchedData<SlashauthEvent[]>>({\r\n    data: undefined,\r\n    loading: false,\r\n  });\r\n\r\n  const [roles, setRoles] = useState<{\r\n    [roleName: string]: FetchedData<boolean>;\r\n  }>({});\r\n\r\n  const [me, setMe] = useState<FetchedData<User>>({\r\n    data: undefined,\r\n    loading: false,\r\n  });\r\n\r\n  const [files, setFiles] = useState<\r\n    FetchedData<Record<string, SlashauthFile>>\r\n  >({\r\n    data: {\r\n      [TEST_FILE_ID]: new SlashauthFile({\r\n        id: TEST_FILE_ID,\r\n        blobID: 'blob.12345',\r\n        clientID: '',\r\n        organizationID: null,\r\n        wallet: '',\r\n        name: 'Dataroom example',\r\n        description: '',\r\n        rolesRequired: [RoleNameMember],\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      }),\r\n    },\r\n    loading: false,\r\n  });\r\n\r\n  const { getTokens, isAuthenticated, hasRole } = useSlashAuth();\r\n  const config = useContext(ConfigContext);\r\n\r\n  const [lastRoleDataAdmin, setLastRoleDataAdmin] = useState(false);\r\n  const [lastRoleDataMember, setLastRoleDataMember] = useState(false);\r\n\r\n  if (!isAuthenticated && events.data !== undefined) {\r\n    setEvents({ data: undefined, loading: false });\r\n  }\r\n\r\n  if (!isAuthenticated && roles && Object.keys(roles).length !== 0) {\r\n    setRoles({});\r\n  }\r\n\r\n  if (!isAuthenticated && me.data !== undefined) {\r\n    setMe({ data: undefined, loading: false });\r\n  }\r\n\r\n  const addRole = useCallback((roleName: string, response: boolean) => {\r\n    setRoles((existing) => ({\r\n      ...existing,\r\n      [roleName]: {\r\n        data: response,\r\n        loading: false,\r\n      },\r\n    }));\r\n  }, []);\r\n\r\n  const fetchRoleData = useCallback(\r\n    async (roleName: string): Promise<boolean> => {\r\n      if (!isAuthenticated) {\r\n        return false;\r\n      }\r\n      setRoles((existing) => ({\r\n        ...(existing || {}),\r\n        [roleName]: {\r\n          data: undefined,\r\n          loading: true,\r\n        },\r\n      }));\r\n      try {\r\n        const roleResponse = await hasRole(roleName);\r\n        addRole(roleName, roleResponse);\r\n        return roleResponse;\r\n      } catch (err) {\r\n        console.error('Failed to fetch role', err);\r\n        addRole(roleName, false);\r\n        return false;\r\n      }\r\n    },\r\n    [addRole, hasRole, isAuthenticated]\r\n  );\r\n\r\n  const fetchRoles = async () => {\r\n    await fetchRoleData(RoleNameMember);\r\n    await fetchRoleData(RoleNameAdmin);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      setRoles(undefined);\r\n    } else {\r\n      fetchRoles();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isAuthenticated]);\r\n\r\n  const fetchMe = useCallback(async (): Promise<User | null> => {\r\n    setTimeout(\r\n      () =>\r\n        setMe({\r\n          ...me,\r\n          loading: true,\r\n        }),\r\n      0\r\n    );\r\n    return getTokens().then((token) => {\r\n      const api = new API(config, token);\r\n      return api\r\n        .getMe()\r\n        .then((user) => {\r\n          setMe({\r\n            data: user,\r\n            loading: false,\r\n          });\r\n          return user;\r\n        })\r\n        .catch((err) => {\r\n          console.error('Error fetching me', err);\r\n          setMe({\r\n            data: null,\r\n            loading: false,\r\n          });\r\n          return null;\r\n        });\r\n    });\r\n  }, [config, getTokens, me]);\r\n\r\n  const patchMe = useCallback(\r\n    async (nickname: string): Promise<User | null> => {\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .patchMe(nickname)\r\n          .then((user) => {\r\n            setMe({\r\n              data: user,\r\n              loading: false,\r\n            });\r\n            return user;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error fetching me', err);\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, getTokens]\r\n  );\r\n\r\n  const addEvent = useCallback(\r\n    async (ev: SlashauthEvent): Promise<SlashauthEvent | null> => {\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .addEvent(ev)\r\n          .then((ev) => {\r\n            return ev;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error adding event', err);\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, getTokens]\r\n  );\r\n\r\n  const fetchAppMetadata =\r\n    useCallback(async (): Promise<AppMetadata | null> => {\r\n      setTimeout(\r\n        () =>\r\n          setAppMetadata({\r\n            ...appMetadata,\r\n            loading: true,\r\n          }),\r\n        0\r\n      );\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .getAppMetadata()\r\n          .then((metadata) => {\r\n            setAppMetadata({\r\n              data: metadata,\r\n              loading: false,\r\n            });\r\n            return metadata;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error fetching app metadata', err);\r\n            setAppMetadata({\r\n              data: null,\r\n              loading: false,\r\n            });\r\n            return null;\r\n          });\r\n      });\r\n    }, [appMetadata, config, getTokens]);\r\n\r\n  const fetchEvents = useCallback(async (): Promise<\r\n    SlashauthEvent[] | null\r\n  > => {\r\n    if (!isAuthenticated) {\r\n      return null;\r\n    }\r\n    setEvents({\r\n      ...events,\r\n      loading: true,\r\n    });\r\n\r\n    return getTokens().then((token) => {\r\n      const api = new API(config, token);\r\n      return api\r\n        .getEvents()\r\n        .then((events) => {\r\n          setEvents({\r\n            data: events,\r\n            loading: false,\r\n          });\r\n          return events;\r\n        })\r\n        .catch((err) => {\r\n          console.error('Error fetching events: ', err);\r\n          setEvents({\r\n            data: null,\r\n            loading: false,\r\n          });\r\n          return null;\r\n        });\r\n    });\r\n  }, [config, events, getTokens, isAuthenticated]);\r\n\r\n  const listFiles = useCallback(async () => {\r\n    if (!isAuthenticated) {\r\n      return null;\r\n    }\r\n    setFiles({\r\n      ...files,\r\n      loading: true,\r\n    });\r\n\r\n    return getTokens().then((token) => {\r\n      const api = new API(config, token);\r\n      return api\r\n        .listFiles()\r\n        .then((incomingFiles) => {\r\n          const fileMap = incomingFiles.reduce((acc, file) => {\r\n            acc[file.id] = file;\r\n            return acc;\r\n          }, files.data || {});\r\n          setFiles({\r\n            data: fileMap,\r\n            loading: false,\r\n          });\r\n          return incomingFiles;\r\n        })\r\n        .catch((err) => {\r\n          console.error('Error listing files: ', err);\r\n          setFiles({\r\n            ...files,\r\n            loading: false,\r\n          });\r\n          return null;\r\n        });\r\n    });\r\n  }, [config, files, getTokens, isAuthenticated]);\r\n\r\n  const getSignedFileURL = useCallback(\r\n    async (fileID: string) => {\r\n      if (!isAuthenticated) {\r\n        return null;\r\n      }\r\n\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api.getPresignedURLForFile(fileID).catch((err) => {\r\n          console.error('Error getting presigned URL for file: ', err);\r\n\r\n          return null;\r\n        });\r\n      });\r\n    },\r\n    [config, getTokens, isAuthenticated]\r\n  );\r\n\r\n  const getFile = useCallback(\r\n    async (fileID: string) => {\r\n      if (!isAuthenticated) {\r\n        return null;\r\n      }\r\n      setFiles({\r\n        ...files,\r\n        loading: true,\r\n      });\r\n\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .getFile(fileID)\r\n          .then((file) => {\r\n            const fileMap = files.data || {};\r\n            fileMap[fileID] = file;\r\n            setFiles({\r\n              data: fileMap,\r\n              loading: false,\r\n            });\r\n            return files;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error getting file: ', err);\r\n            setFiles({\r\n              ...files,\r\n              loading: false,\r\n            });\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, files, getTokens, isAuthenticated]\r\n  );\r\n\r\n  const createFile = useCallback(\r\n    async (input: CreateFileInput) => {\r\n      if (!isAuthenticated) {\r\n        return null;\r\n      }\r\n      setFiles({\r\n        ...files,\r\n        loading: true,\r\n      });\r\n\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .createFile(input)\r\n          .then((file) => {\r\n            const fileMap = files.data || {};\r\n            fileMap[file.id] = file;\r\n            setFiles({\r\n              data: fileMap,\r\n              loading: false,\r\n            });\r\n            return files;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error creating file: ', err);\r\n            setFiles({\r\n              ...files,\r\n              loading: false,\r\n            });\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, files, getTokens, isAuthenticated]\r\n  );\r\n\r\n  const patchFile = useCallback(\r\n    async (id: string, input: PatchFileInput) => {\r\n      if (!isAuthenticated) {\r\n        return null;\r\n      }\r\n      setFiles({\r\n        ...files,\r\n        loading: true,\r\n      });\r\n\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .patchFile(id, input)\r\n          .then((file) => {\r\n            const fileMap = files.data || {};\r\n            fileMap[file.id] = file;\r\n            setFiles({\r\n              data: fileMap,\r\n              loading: false,\r\n            });\r\n            return file;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error patching file: ', err);\r\n            setFiles({\r\n              ...files,\r\n              loading: false,\r\n            });\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, files, getTokens, isAuthenticated]\r\n  );\r\n\r\n  const deleteFile = useCallback(\r\n    async (id: string) => {\r\n      if (!isAuthenticated) {\r\n        return null;\r\n      }\r\n      setFiles({\r\n        ...files,\r\n        loading: true,\r\n      });\r\n\r\n      return getTokens().then((token) => {\r\n        const api = new API(config, token);\r\n        return api\r\n          .deleteFile(id)\r\n          .then((file) => {\r\n            const fileMap = files.data || {};\r\n            if (fileMap[id]) {\r\n              fileMap[id] = undefined;\r\n            }\r\n            setFiles({\r\n              data: fileMap,\r\n              loading: false,\r\n            });\r\n            return file;\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error deleting file: ', err);\r\n            setFiles({\r\n              ...files,\r\n              loading: false,\r\n            });\r\n            return null;\r\n          });\r\n      });\r\n    },\r\n    [config, files, getTokens, isAuthenticated]\r\n  );\r\n\r\n  if (\r\n    roles &&\r\n    roles[RoleNameAdmin] &&\r\n    !roles[RoleNameAdmin].loading &&\r\n    roles[RoleNameAdmin].data !== undefined &&\r\n    lastRoleDataAdmin !== roles[RoleNameAdmin].data\r\n  ) {\r\n    if (roles[RoleNameAdmin].data && isAuthenticated) {\r\n      fetchEvents();\r\n      listFiles();\r\n    }\r\n    setLastRoleDataAdmin(roles[RoleNameAdmin].data);\r\n  }\r\n\r\n  if (\r\n    roles &&\r\n    roles[RoleNameMember] &&\r\n    !roles[RoleNameMember].loading &&\r\n    roles[RoleNameMember].data !== undefined &&\r\n    lastRoleDataMember !== roles[RoleNameMember].data\r\n  ) {\r\n    if (roles[RoleNameMember].data && isAuthenticated) {\r\n      fetchEvents();\r\n      fetchMe();\r\n    }\r\n    setLastRoleDataMember(roles[RoleNameMember].data);\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        appMetadata: {\r\n          ...appMetadata,\r\n          fetch: fetchAppMetadata,\r\n        },\r\n        events: {\r\n          ...events,\r\n          fetch: fetchEvents,\r\n          addEvent: (event: SlashauthEvent) => {\r\n            addEvent(event);\r\n            setEvents({\r\n              ...events,\r\n              data: [...(events.data || []), event],\r\n            });\r\n          },\r\n        },\r\n        roles: {\r\n          data: {\r\n            ...roles,\r\n          },\r\n          fetch: fetchRoleData,\r\n          fetchRoles,\r\n        },\r\n        me: {\r\n          ...me,\r\n          fetch: fetchMe,\r\n          patch: patchMe,\r\n        },\r\n        files: {\r\n          ...files,\r\n          list: listFiles,\r\n          get: getFile,\r\n          getPresignedURL: getSignedFileURL,\r\n          create: createFile,\r\n          patch: patchFile,\r\n          delete: deleteFile,\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AppProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}