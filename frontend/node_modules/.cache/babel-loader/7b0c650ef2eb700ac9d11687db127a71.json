{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\demo-react\\\\src\\\\pages\\\\events\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { CalendarIcon } from '@heroicons/react/outline';\nimport { useSlashAuth } from '@slashauth/slashauth-react';\nimport { useContext, useMemo } from 'react';\nimport { LoggedOut } from '../../common/components/LoggedOut';\nimport { BeatLoader } from '../../common/components/spinners/beat-loader';\nimport ContentLayout from '../../common/layout/content';\nimport { AppContext } from '../../context';\nimport { EventElem } from '../../features/events/event';\nimport TopBar from '../../features/top-bar';\nimport { RoleNameMember } from '../../constants';\nimport { NotAuthorized } from '../../common/components/NotAuthorized';\nimport eventsGradient from '../../common/gradients/events-gradient.png';\nimport { classNames } from '../../util/classnames';\nimport { SlashauthEvent } from '../../model/event';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EventsPage = () => {\n  _s();\n\n  const {\n    events,\n    roles\n  } = useContext(AppContext);\n  const {\n    isAuthenticated\n  } = useSlashAuth();\n  const defaultEvents = useMemo(() => {\n    const now = new Date().getDate();\n    return [new SlashauthEvent('Zoom townhall sync', 'Our weekly touchpoint for a townhall', 'https://www.zoom.us/example', new Date(new Date().setDate(now + 5)).toLocaleDateString()), new SlashauthEvent('Weekly budget committee chat', 'Our treasury team sync', 'https://www.zoom.us/example', new Date(new Date().setDate(now + 6)).toLocaleDateString()), new SlashauthEvent('Governance Committee', 'Our governance committee touchpoint', 'https://www.zoom.us/example', new Date(new Date().setDate(now + 7)).toLocaleDateString())];\n  }, []);\n  const hasRole = useMemo(() => isAuthenticated && roles.data && roles.data[RoleNameMember] && roles.data[RoleNameMember].data, [isAuthenticated, roles.data]);\n  const eventsContent = useMemo(() => {\n    if (!isAuthenticated) {\n      return /*#__PURE__*/_jsxDEV(LoggedOut, {\n        roleNameRequired: RoleNameMember\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (!roles.data || !roles.data[RoleNameMember] || roles.data[RoleNameMember].loading) {\n      return /*#__PURE__*/_jsxDEV(BeatLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (!roles.data[RoleNameMember].data) {\n      return /*#__PURE__*/_jsxDEV(NotAuthorized, {\n        roleNameRequired: RoleNameMember\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this);\n    }\n\n    const eventsToUse = [...defaultEvents];\n\n    if (events.data) {\n      eventsToUse.push(...events.data);\n      eventsToUse.sort((a, b) => {\n        return a.dateTime - b.dateTime;\n      });\n    }\n\n    if (eventsToUse.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center p-8 border border-gray-100 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col p-5 rounded-full bg-indigo-50\",\n          children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n            className: \"w-16 h-16 text-indigo-500\",\n            strokeWidth: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-[16px] font-medium text-center text-secondary\",\n          children: \"No upcoming events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-4\",\n      children: eventsToUse.map((ev, idx) => /*#__PURE__*/_jsxDEV(EventElem, {\n        event: ev,\n        idx: idx\n      }, `${ev.name}-${idx}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }, [defaultEvents, events.data, isAuthenticated, roles.data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-[300px] bg-green\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: eventsGradient,\n        className: classNames('absolute inset-0 h-[300px] w-full object-cover z-0', !hasRole && 'grayscale'),\n        alt: \"Home Gradient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex flex-col\",\n        children: /*#__PURE__*/_jsxDEV(ContentLayout, {\n          fullHeight: true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-start justify-center w-full h-full px-2 sm:w-2/3 sm:px-0 md: xl:w-2/5 text-banner\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-[36px] font-semibold\",\n              children: \"Upcoming Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[21px]\",\n              children: \"Keep your community in the loop with a member-only Events page.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContentLayout, {\n      fullHeight: true,\n      additionalClassnames: \"mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"text-center text-primary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: eventsContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EventsPage, \"46OqN0kvI8BuYzFtye575VGWRmQ=\", false, function () {\n  return [useSlashAuth];\n});\n\n_c = EventsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventsPage\");","map":{"version":3,"names":["CalendarIcon","useSlashAuth","useContext","useMemo","LoggedOut","BeatLoader","ContentLayout","AppContext","EventElem","TopBar","RoleNameMember","NotAuthorized","eventsGradient","classNames","SlashauthEvent","EventsPage","events","roles","isAuthenticated","defaultEvents","now","Date","getDate","setDate","toLocaleDateString","hasRole","data","eventsContent","loading","eventsToUse","push","sort","a","b","dateTime","length","map","ev","idx","name"],"sources":["C:/Users/USER/Documents/demo-react/src/pages/events/index.tsx"],"sourcesContent":["import { CalendarIcon } from '@heroicons/react/outline';\r\nimport { useSlashAuth } from '@slashauth/slashauth-react';\r\nimport { useContext, useMemo } from 'react';\r\nimport { LoggedOut } from '../../common/components/LoggedOut';\r\nimport { BeatLoader } from '../../common/components/spinners/beat-loader';\r\nimport ContentLayout from '../../common/layout/content';\r\nimport { AppContext } from '../../context';\r\nimport { EventElem } from '../../features/events/event';\r\nimport TopBar from '../../features/top-bar';\r\nimport { RoleNameMember } from '../../constants';\r\nimport { NotAuthorized } from '../../common/components/NotAuthorized';\r\nimport eventsGradient from '../../common/gradients/events-gradient.png';\r\nimport { classNames } from '../../util/classnames';\r\nimport { SlashauthEvent } from '../../model/event';\r\n\r\nexport const EventsPage = () => {\r\n  const { events, roles } = useContext(AppContext);\r\n\r\n  const { isAuthenticated } = useSlashAuth();\r\n\r\n  const defaultEvents = useMemo(() => {\r\n    const now = new Date().getDate();\r\n    return [\r\n      new SlashauthEvent(\r\n        'Zoom townhall sync',\r\n        'Our weekly touchpoint for a townhall',\r\n        'https://www.zoom.us/example',\r\n        new Date(new Date().setDate(now + 5)).toLocaleDateString()\r\n      ),\r\n      new SlashauthEvent(\r\n        'Weekly budget committee chat',\r\n        'Our treasury team sync',\r\n        'https://www.zoom.us/example',\r\n        new Date(new Date().setDate(now + 6)).toLocaleDateString()\r\n      ),\r\n      new SlashauthEvent(\r\n        'Governance Committee',\r\n        'Our governance committee touchpoint',\r\n        'https://www.zoom.us/example',\r\n        new Date(new Date().setDate(now + 7)).toLocaleDateString()\r\n      ),\r\n    ];\r\n  }, []);\r\n\r\n  const hasRole = useMemo(\r\n    () =>\r\n      isAuthenticated &&\r\n      roles.data &&\r\n      roles.data[RoleNameMember] &&\r\n      roles.data[RoleNameMember].data,\r\n    [isAuthenticated, roles.data]\r\n  );\r\n\r\n  const eventsContent = useMemo(() => {\r\n    if (!isAuthenticated) {\r\n      return <LoggedOut roleNameRequired={RoleNameMember} />;\r\n    }\r\n\r\n    if (\r\n      !roles.data ||\r\n      !roles.data[RoleNameMember] ||\r\n      roles.data[RoleNameMember].loading\r\n    ) {\r\n      return <BeatLoader />;\r\n    }\r\n\r\n    if (!roles.data[RoleNameMember].data) {\r\n      return <NotAuthorized roleNameRequired={RoleNameMember} />;\r\n    }\r\n\r\n    const eventsToUse = [...defaultEvents];\r\n    if (events.data) {\r\n      eventsToUse.push(...events.data);\r\n      eventsToUse.sort((a, b) => {\r\n        return a.dateTime - b.dateTime;\r\n      });\r\n    }\r\n\r\n    if (eventsToUse.length === 0) {\r\n      return (\r\n        <div className=\"flex flex-col items-center justify-center p-8 border border-gray-100 rounded-lg\">\r\n          <div className=\"flex flex-col p-5 rounded-full bg-indigo-50\">\r\n            <CalendarIcon\r\n              className=\"w-16 h-16 text-indigo-500\"\r\n              strokeWidth={1}\r\n            />\r\n          </div>\r\n          <div className=\"mt-4 text-[16px] font-medium text-center text-secondary\">\r\n            No upcoming events\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"flex flex-col space-y-4\">\r\n        {eventsToUse.map((ev, idx) => (\r\n          <EventElem key={`${ev.name}-${idx}`} event={ev} idx={idx} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }, [defaultEvents, events.data, isAuthenticated, roles.data]);\r\n\r\n  return (\r\n    <>\r\n      <TopBar />\r\n      <div className=\"relative w-full h-[300px] bg-green\">\r\n        <img\r\n          src={eventsGradient}\r\n          className={classNames(\r\n            'absolute inset-0 h-[300px] w-full object-cover z-0',\r\n            !hasRole && 'grayscale'\r\n          )}\r\n          alt=\"Home Gradient\"\r\n        />\r\n        <div className=\"absolute inset-0 flex flex-col\">\r\n          <ContentLayout fullHeight>\r\n            <div className=\"flex flex-col items-start justify-center w-full h-full px-2 sm:w-2/3 sm:px-0 md: xl:w-2/5 text-banner\">\r\n              <h1 className=\"text-[36px] font-semibold\">Upcoming Events</h1>\r\n              <p className=\"text-[21px]\">\r\n                Keep your community in the loop with a member-only Events page.\r\n              </p>\r\n            </div>\r\n          </ContentLayout>\r\n        </div>\r\n      </div>\r\n      <ContentLayout fullHeight additionalClassnames=\"mt-8\">\r\n        <main className=\"text-center text-primary\">\r\n          <div className=\"mt-8\">{eventsContent}</div>\r\n        </main>\r\n      </ContentLayout>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}