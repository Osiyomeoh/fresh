{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkFlow = void 0;\n\nconst preact_1 = require(\"preact\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nconst ConnectDialog_1 = require(\"../ConnectDialog/ConnectDialog\");\n\nclass LinkFlow {\n  constructor(options) {\n    this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n    this.subscriptions = new rxjs_1.Subscription();\n    this.isConnected = false;\n    this.chainId = 1;\n    this.isOpen = false;\n    this.onCancel = null;\n    this.root = null; // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n\n    this.connectDisabled = false;\n    this.darkMode = options.darkMode;\n    this.version = options.version;\n    this.sessionId = options.sessionId;\n    this.sessionSecret = options.sessionSecret;\n    this.linkAPIUrl = options.linkAPIUrl;\n    this.isParentConnection = options.isParentConnection;\n    this.connected$ = options.connected$;\n    this.chainId$ = options.chainId$;\n  }\n\n  attach(el) {\n    this.root = document.createElement(\"div\");\n    this.root.className = \"-cbwsdk-link-flow-root\";\n    el.appendChild(this.root);\n    this.render();\n    this.subscriptions.add(this.connected$.subscribe(v => {\n      if (this.isConnected !== v) {\n        this.isConnected = v;\n        this.render();\n      }\n    }));\n    this.subscriptions.add(this.chainId$.subscribe(chainId => {\n      if (this.chainId !== chainId) {\n        this.chainId = chainId;\n        this.render();\n      }\n    }));\n  }\n\n  detach() {\n    var _a;\n\n    if (!this.root) {\n      return;\n    }\n\n    this.subscriptions.unsubscribe();\n    (0, preact_1.render)(null, this.root);\n    (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n  }\n\n  setConnectDisabled(connectDisabled) {\n    this.connectDisabled = connectDisabled;\n  }\n\n  open(options) {\n    this.isOpen = true;\n    this.onCancel = options.onCancel;\n    this.render();\n  }\n\n  close() {\n    this.isOpen = false;\n    this.onCancel = null;\n    this.render();\n  }\n\n  render() {\n    if (!this.root) {\n      return;\n    }\n\n    const subscription = this.extensionUI$.subscribe(() => {\n      if (!this.root) {\n        return;\n      }\n\n      (0, preact_1.render)((0, preact_1.h)(ConnectDialog_1.ConnectDialog, {\n        darkMode: this.darkMode,\n        version: this.version,\n        sessionId: this.sessionId,\n        sessionSecret: this.sessionSecret,\n        linkAPIUrl: this.linkAPIUrl,\n        isOpen: this.isOpen,\n        isConnected: this.isConnected,\n        isParentConnection: this.isParentConnection,\n        chainId: this.chainId,\n        onCancel: this.onCancel,\n        connectDisabled: this.connectDisabled\n      }), this.root);\n    });\n    this.subscriptions.add(subscription);\n  }\n\n}\n\nexports.LinkFlow = LinkFlow;","map":{"version":3,"names":["Object","defineProperty","exports","value","LinkFlow","preact_1","require","rxjs_1","ConnectDialog_1","constructor","options","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","chainId","isOpen","onCancel","root","connectDisabled","darkMode","version","sessionId","sessionSecret","linkAPIUrl","isParentConnection","connected$","chainId$","attach","el","document","createElement","className","appendChild","render","add","subscribe","v","detach","_a","unsubscribe","parentElement","removeChild","setConnectDisabled","open","close","subscription","h","ConnectDialog"],"sources":["C:/Users/USER/Documents/demo-react/node_modules/@coinbase/wallet-sdk/dist/components/LinkFlow/LinkFlow.js"],"sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst ConnectDialog_1 = require(\"../ConnectDialog/ConnectDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.chainId = 1;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        this.chainId$ = options.chainId$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-cbwsdk-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n        this.subscriptions.add(this.chainId$.subscribe(chainId => {\n            if (this.chainId !== chainId) {\n                this.chainId = chainId;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$.subscribe(() => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)((0, preact_1.h)(ConnectDialog_1.ConnectDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, linkAPIUrl: this.linkAPIUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, chainId: this.chainId, onCancel: this.onCancel, connectDisabled: this.connectDisabled }), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}